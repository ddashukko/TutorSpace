<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ê–ª–≥–µ–±—Ä–∞ 10: –†—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" />
    <style>
        /* –ë–∞–∑–æ–≤—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ —à–∞–±–ª–æ–Ω—É */
        body { margin: 0; font-family: 'Segoe UI', sans-serif; display: flex; height: 100vh; overflow: hidden; background: #f4f7f9; }
        #tasks-section { flex: 1; display: flex; flex-direction: column; background: white; border-right: 1px solid #ddd; overflow-y: auto; }
        header { display: flex; align-items: center; justify-content: space-between; padding: 10px 20px; border-bottom: 2px solid #eee; background: #fff; sticky: top; }
        .content-container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .stats-container { font-weight: bold; font-size: 1.1rem; }
        
        .exercise-block { margin-bottom: 30px; border: 1px solid #e1e8ed; border-radius: 12px; padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .theory-box { background: #f0f7ff; padding: 15px; border-radius: 8px; border-left: 5px solid #2563eb; margin-bottom: 20px; }
        
        .task-item { margin: 15px 0; padding: 15px; border-bottom: 1px solid #f0f0f0; }
        .input-group { display: flex; gap: 10px; margin-top: 10px; }
        input { flex: 1; padding: 10px; border: 2px solid #cbd5e1; border-radius: 8px; font-size: 1rem; }
        input.correct { border-color: #10b981; background: #ecfdf5; }
        input.wrong { border-color: #ef4444; background: #fef2f2; }

        button { cursor: pointer; border: none; border-radius: 8px; transition: 0.2s; font-weight: 600; }
        .btn-check { background: #2563eb; color: white; padding: 8px 15px; }
        .btn-finish { background: #1e293b; color: white; width: 100%; padding: 15px; font-size: 1.1rem; margin-top: 20px; }
        .btn-home { text-decoration: none; color: #64748b; }
        
        #board-section { width: 45%; display: flex; flex-direction: column; background: #f8fafc; }
        .tools { padding: 10px; background: #f1f5f9; border-bottom: 1px solid #ddd; display: flex; gap: 8px; }
        #board { flex: 1; background: white; cursor: crosshair; touch-action: none; }
        .btn-tool { padding: 8px 12px; background: white; border: 1px solid #cbd5e1; font-size: 1.2rem; }
        .btn-tool.active { background: #2563eb; color: white; }

        .hint-btn, .sol-btn { font-size: 0.8rem; color: #2563eb; background: none; text-decoration: underline; margin-right: 10px; }
        .hidden-box { display: none; margin-top: 10px; padding: 10px; background: #fffbeb; border: 1px dashed #f59e0b; border-radius: 6px; }
    </style>
</head>
<body>

<div id="tasks-section">
    <header>
        <a href="#" class="btn-home">‚Üê –ù–∞–∑–∞–¥</a>
        <div id="lesson-title-display">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
        <div class="stats-container">
            ‚úÖ <span id="val-correct">0</span> ‚ùå <span id="val-wrong">0</span>
        </div>
        <button id="toggle-board-btn" class="btn-tool" onclick="document.getElementById('board-section').style.display = (document.getElementById('board-section').style.display === 'none' ? 'flex' : 'none')">
            <span>–î–æ—à–∫–∞</span>
        </button>
    </header>

    <div class="content-container">
        <div id="quiz-root"></div>
        <button class="btn-finish" onclick="finishLesson()">–ó–∞–≤–µ—Ä—à–∏—Ç–∏ —É—Ä–æ–∫</button>
    </div>
</div>

<div id="board-section">
    <div class="tools">
        <button class="btn-tool active" onclick="setTool('pen')" id="t-pen">üñäÔ∏è</button>
        <button class="btn-tool" onclick="setTool('eraser')" id="t-eraser">üßπ</button>
        <button class="btn-tool" onclick="drawGrid()">üåê</button>
        <button class="btn-tool" onclick="clearCanvas()" style="color: red">‚ùå</button>
    </div>
    <canvas id="board"></canvas>
</div>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" onload="renderMath()"></script>

<script>
    const LESSON_DATA = {
        title: "–ê–ª–≥–µ–±—Ä–∞ 10: –õ—ñ–Ω—ñ–π–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ –ª–æ–≥—ñ–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤",
        exercises: [
            {
                id: "info",
                title: "üìö –®–ø–∞—Ä–≥–∞–ª–∫–∞: –ü—Ä–∞–≤–∏–ª–∞ –≥—Ä–∏",
                desc: "–§—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è —Ä—ñ–≤–Ω—è–Ω—å",
                visual: `
                    <div class="theory-box">
                        <p><strong>1. –ü—Ä–∞–≤–∏–ª–æ —Ç–µ—Ä–µ–∑—ñ–≤:</strong> –©–æ —Ä–æ–±–∏–º–æ –∑ –ª—ñ–≤–æ—é —á–∞—Å—Ç–∏–Ω–æ—é, —Ç–µ —Å–∞–º–µ —Ä–æ–±–∏–º–æ –∑ –ø—Ä–∞–≤–æ—é.</p>
                        <p><strong>2. –¢—Ä–∏ –æ–±–ª–∏—á—á—è \( ax = b \):</strong></p>
                        <ul style="list-style: none; padding-left: 10px;">
                            <li>üîπ –Ø–∫—â–æ \( a \neq 0 \), —Ç–æ \( x = \frac{b}{a} \) (–û–¥–∏–Ω –∫–æ—Ä—ñ–Ω—å)</li>
                            <li>üîπ –Ø–∫—â–æ \( 0x = b \) (\( b \neq 0 \)), —Ç–æ <strong>–∫–æ—Ä–µ–Ω—ñ–≤ –Ω–µ–º–∞—î</strong></li>
                            <li>üîπ –Ø–∫—â–æ \( 0x = 0 \), —Ç–æ <strong>–∫–æ—Ä–µ–Ω—ñ–≤ –±–µ–∑–ª—ñ—á</strong></li>
                        </ul>
                        <p><strong>3. –î—Ä–æ–±–∏:</strong> \( \frac{A}{B} = 0 \), —è–∫—â–æ \( A = 0 \) —Ç–∞ \( B \neq 0 \).</p>
                    </div>
                `,
                tasks: []
            },
            {
                id: "1",
                title: "1. –†–æ–∑—ñ–≥—Ä—ñ–≤: –õ—ñ–Ω—ñ–π–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è",
                desc: "–ó–Ω–∞–π–¥–∏ –Ω–µ–≤—ñ–¥–æ–º–µ \( x \)",
                tasks: [
                    { id: "1.1", q: "x + 25 = 60", a: "35", type: "input", hint: "–í—ñ–¥–Ω—ñ–º–∏ 25 –≤—ñ–¥ 60" },
                    { id: "1.2", q: "x - 14 = -20", a: "-6", type: "input", hint: "-20 + 14" },
                    { id: "1.3", q: "4x = 52", a: "13", type: "input", hint: "52 / 4" },
                    { id: "1.4", q: "12 - x = 30", a: "-18", type: "input", hint: "12 - 30" },
                    { id: "1.5", q: "0.5x = 9", a: "18", type: "input", hint: "–ü–æ–¥—ñ–ª–∏ –Ω–∞ 0.5 (–∞–±–æ –ø–æ–º–Ω–æ–∂ –Ω–∞ 2)" }
                ]
            },
            {
                id: "2",
                title: "2. –û—Å–æ–±–ª–∏–≤—ñ –≤–∏–ø–∞–¥–∫–∏ \( ax = b \)",
                desc: "–ü–∏—à–∏ '–Ω–µ–º–∞—î' –∞–±–æ '–±–µ–∑–ª—ñ—á', —è–∫—â–æ –∫–æ—Ä–µ–Ω—ñ–≤ –Ω–µ –æ–¥–∏–Ω.",
                tasks: [
                    { id: "2.1", q: "0x = 8", a: "–Ω–µ–º–∞—î", type: "input" },
                    { id: "2.2", q: "0x = 0", a: "–±–µ–∑–ª—ñ—á", type: "input" },
                    { id: "2.3", q: "10x - 10x = 5", a: "–Ω–µ–º–∞—î", type: "input" },
                    { id: "2.4", q: "x + 5 = x + 5", a: "–±–µ–∑–ª—ñ—á", type: "input" },
                    { id: "2.5", q: "3x = 0", a: "0", type: "input" }
                ]
            },
            {
                id: "3",
                title: "3. –†–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–∞—Å—Ç–∫–∏ (–û–î–ó)",
                desc: "–°—Ç–µ–∂ –∑–∞ –∑–Ω–∞–º–µ–Ω–Ω–∏–∫–æ–º!",
                tasks: [
                    { id: "3.1", q: "\\frac{x-3}{x+5} = 0", a: "3", type: "input" },
                    { id: "3.2", q: "\\frac{2x-8}{x-1} = 0", a: "4", type: "input" },
                    { id: "3.3", q: "\\frac{x+4}{x+4} = 0", a: "–Ω–µ–º–∞—î", type: "input", hint: "–ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ —ñ—Å–Ω—É—î –¥—Ä—ñ–± –ø—Ä–∏ x = -4?" },
                    { id: "3.4", q: "\\frac{x^2-1}{x-1} = 0", a: "-1", type: "input", hint: "–ö–æ—Ä–µ–Ω—ñ —á–∏—Å–µ–ª—å–Ω–∏–∫–∞ 1 —Ç–∞ -1. –û–¥–∏–Ω –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å!" },
                    { id: "3.5", q: "\\frac{x}{x+10} = 0", a: "0", type: "input" }
                ]
            },
            {
                id: "4",
                title: "4. –ë–æ–Ω—É—Å: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏",
                desc: "–ê–Ω–∞–ª—ñ–∑—É–π, —è–∫ –∞–¥–≤–æ–∫–∞—Ç.",
                tasks: [
                    { id: "4.1", q: "ax = 10. \\text{ –ü—Ä–∏ —è–∫–æ–º—É } a \\text{ –Ω–µ–º–∞—î –∫–æ—Ä–µ–Ω—ñ–≤?}", a: "0", type: "input" },
                    { id: "4.2", q: "(a-5)x = 0. \\text{ –ü—Ä–∏ —è–∫–æ–º—É } a \\text{ –∫–æ—Ä–µ–Ω—ñ–≤ –±–µ–∑–ª—ñ—á?}", a: "5", type: "input" },
                    { id: "4.3", q: "\\frac{x-5}{x-a} = 0. \\text{ –ü—Ä–∏ —è–∫–æ–º—É } a \\text{ —Ä–æ–∑–≤'—è–∑–∫—ñ–≤ –Ω–µ–º–∞—î?}", a: "5", type: "input", hint: "–ö–æ–ª–∏ x=5 —Å—Ç–∞—î '–∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–º'?" },
                    { id: "4.4", q: "ax = a. \\text{ –ü—Ä–∏ —è–∫–æ–º—É } a \\text{ –∫–æ—Ä–µ–Ω—ñ–≤ –±–µ–∑–ª—ñ—á?}", a: "0", type: "input", hint: "–ó—Ä–æ–±–∏ —Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∏–≥–ª—è–¥—É 0x = 0" },
                    { id: "4.5", q: "\\frac{x-a}{x-12} = 0. \\text{ –ü—Ä–∏ —è–∫–æ–º—É } a \\text{ –Ω–µ–º–∞—î –∫–æ—Ä–µ–Ω—ñ–≤?}", a: "12", type: "input" }
                ]
            }
        ]
    };

    let correct = 0; let wrong = 0;

    function renderMath() {
        renderMathInElement(document.body, {
            delimiters: [{left: "$$", right: "$$", display: true}, {left: "$", right: "$", display: false}, {left: "\\(", right: "\\)", display: false}],
            throwOnError: false
        });
    }

    function init() {
        document.getElementById('lesson-title-display').innerText = LESSON_DATA.title;
        const root = document.getElementById('quiz-root');
        
        LESSON_DATA.exercises.forEach(ex => {
            const block = document.createElement('div');
            block.className = 'exercise-block';
            block.innerHTML = `<h3>${ex.title}</h3><p>${ex.desc}</p>${ex.visual || ''}`;
            
            ex.tasks.forEach(t => {
                const taskDiv = document.createElement('div');
                taskDiv.className = 'task-item';
                taskDiv.innerHTML = `
                    <div class="q-text">\( ${t.q} \)</div>
                    <div class="input-group">
                        <input type="text" id="in-${t.id}" placeholder="–í—ñ–¥–ø–æ–≤—ñ–¥—å...">
                        <button class="btn-check" onclick="check('${t.id}', '${t.a}')">OK</button>
                    </div>
                    <div id="msg-${t.id}" class="feedback"></div>
                    ${t.hint ? `<button class="hint-btn" onclick="document.getElementById('h-${t.id}').style.display='block'">–ü—ñ–¥–∫–∞–∑–∫–∞</button>` : ''}
                    <div id="h-${t.id}" class="hidden-box">${t.hint || ''}</div>
                `;
                block.appendChild(taskDiv);
            });
            root.appendChild(block);
        });
    }

    function check(id, ans) {
        const input = document.getElementById(`in-${id}`);
        const msg = document.getElementById(`msg-${id}`);
        if (input.value.trim().toLowerCase() === ans.toLowerCase()) {
            input.className = 'correct'; msg.innerText = "‚úÖ –í—ñ—Ä–Ω–æ!";
            correct++;
        } else {
            input.className = 'wrong'; msg.innerText = "‚ùå –ü–æ–º–∏–ª–∫–∞";
            wrong++;
        }
        document.getElementById('val-correct').innerText = correct;
        document.getElementById('val-wrong').innerText = wrong;
    }

    function finishLesson() {
        alert(`–ß—É–¥–æ–≤–æ! –ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö: ${correct}, –ü–æ–º–∏–ª–æ–∫: ${wrong}. –¢–∏ –º–æ–ª–æ–¥–µ—Ü—å!`);
    }

    // Whiteboard Logic
    const canvas = document.getElementById('board');
    const ctx = canvas.getContext('2d');
    let drawing = false; let tool = 'pen';

    function resize() { canvas.width = canvas.offsetWidth; canvas.height = canvas.offsetHeight; }
    window.onresize = resize; resize();

    canvas.onmousedown = () => drawing = true;
    canvas.onmouseup = () => { drawing = false; ctx.beginPath(); };
    canvas.onmousemove = (e) => {
        if(!drawing) return;
        const r = canvas.getBoundingClientRect();
        ctx.lineWidth = tool === 'pen' ? 2 : 25;
        ctx.lineCap = 'round';
        ctx.strokeStyle = tool === 'pen' ? '#1e293b' : 'white';
        ctx.lineTo(e.clientX - r.left, e.clientY - r.top);
        ctx.stroke(); ctx.beginPath(); ctx.moveTo(e.clientX - r.left, e.clientY - r.top);
    };

    function setTool(t) { tool = t; document.querySelectorAll('.btn-tool').forEach(b => b.classList.remove('active')); event.target.classList.add('active'); }
    function clearCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); }
    function drawGrid() {
        ctx.strokeStyle = '#e2e8f0'; ctx.lineWidth = 1;
        for(let i=0; i<canvas.width; i+=30) { ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,canvas.height); ctx.stroke(); }
        for(let i=0; i<canvas.height; i+=30) { ctx.beginPath(); ctx.moveTo(0,i); ctx.lineTo(canvas.width,i); ctx.stroke(); }
    }

    window.onload = init;
</script>
</body>
</html>
